# 游戏自动登录挂机插件

## 功能说明
- 任务执行前自动关闭游戏窗口
- 任务完成后自动启动游戏挂机
- Web页面管理挂机开关
- 防止窗口堆积

## 使用方法

### 1. 配置挂机账号
在Web页面 `BIN文件管理` 中，每个账号后面有挂机开关：
- 🟢 绿色 = 挂机已开启
- ⚪ 灰色 = 挂机已关闭

### 2. 启动插件
双击 `启动插件.bat` 即可运行

### 3. 配置说明
`config.json` 文件配置：
- `启用自动登录`: true/false
- `游戏EXE路径`: 鲨鱼之王客户端路径
- `等待时间阈值分钟`: 30（任务等待超过30分钟才自动登录）
- `检测间隔秒`: 60（每60秒检测一次）

## 运行逻辑

### 关闭窗口时机
- 账号任务刚执行（5分钟内）
- 检测到窗口已打开
- 自动关闭该账号EXE窗口

### 启动游戏时机
- 账号启用了挂机开关
- 距离上次任务执行超过30分钟
- 窗口未打开
- 自动启动EXE并选择对应BIN文件

## 注意事项
1. 本插件完全独立，不影响原项目
2. 删除 `插件/游戏自动登录` 文件夹即停止功能
3. 需要安装AutoHotkey（服务器已安装）
4. BIN文件必须存在于项目 `BIN文件/` 目录

## 文件说明
- `index.js` - 主程序
- `config.json` - 插件配置
- `window-status.json` - 窗口状态记录
- `启动插件.bat` - 启动脚本

## 数据存储
- 挂机开关配置：`data/game-hangup-config.json`
- 窗口状态：`插件/游戏自动登录/window-status.json`

## 独立性保证
✅ 只读取项目数据，不修改任何原文件
✅ 独立配置和状态文件
✅ 独立启动，不集成到调度器
✅ 删除插件文件夹不影响核心功能
